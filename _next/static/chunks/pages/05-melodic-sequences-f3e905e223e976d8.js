(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{9957:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/05-melodic-sequences",function(){return c(4754)}])},3116:function(d,b,a){"use strict";var e=a(5893);a(7294);var f=a(9604),g=a(1743);function c(a){var b=a.children,c=a.code,d=a.onCodeUpdate,h=a.className,i=a.language,j="string"==typeof b?b:c;return(0,e.jsxs)("div",{className:h,children:[(0,e.jsx)(f.ZP,{defaultLanguage:i,defaultValue:(0,g.Z)(j||"").trim(),theme:"vs-dark",onChange:d,options:{minimap:{enabled:!1}}}),";"]})}b.Z=c},8582:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_CodeEditorHost__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3116),_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(947),_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7294),APPLICATION_ROOT_ID="application-root";function EditorSplitView(a){var c=a.code,b=a.html,i=a.runCodeOnLoad,f=a.children,d=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(b),g=d[0],j=d[1],e=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(c),h=e[0],k=e[1];return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){i&&runCode(g,h)},[]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){window.onkeydown=function(a){a.metaKey&&("s"===a.key||"S"===a.key)&&(a.preventDefault(),runCode(g,h))}},[g,h]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitView,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitViewLeft,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_CodeEditorHost__WEBPACK_IMPORTED_MODULE_1__.Z,{language:"html",code:b,className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitViewVertical,onCodeUpdate:function(a){return j(a||"")},children:b}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_CodeEditorHost__WEBPACK_IMPORTED_MODULE_1__.Z,{language:"typescript",className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitViewVertical,onCodeUpdate:function(a){return k(a||"")},children:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().fullSizeButton,onClick:function(){return runCode(g,h)},children:"Run (\u2202\u222B\u2202)!"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{id:"split-view-controllers",className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitViewRight,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_styles_ModulePages_module_css__WEBPACK_IMPORTED_MODULE_3___default().splitViewBaseContent,children:[f,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:"\xa0"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{id:APPLICATION_ROOT_ID})]})]})}function tryRunCleanup(){if(eval("typeof window.cleanup !== 'undefined'"))try{eval("try { window.cleanup() } catch (e) { console.error(e) }")}catch(e){console.error("Error while running cleanup code: ",window.cleanup,e)}}function runCode(htmlCode,javascriptCode){tryRunCleanup(),document.getElementById(APPLICATION_ROOT_ID).innerHTML=htmlCode;var cleanupSectionIndex=javascriptCode.split("\n").findIndex(function(a){return a.trim().includes("CLEANUP")}),runnableCode=javascriptCode.split("\n").slice(0,cleanupSectionIndex).join("\n"),cleanupJavascriptCode=javascriptCode.split("\n").slice(cleanupSectionIndex+1).join("\n"),cleanupHook="window.cleanup = () => {\n".concat(cleanupJavascriptCode,"\n    }"),script=runnableCode+"\n"+cleanupHook;eval(script)}__webpack_exports__.Z=EditorSplitView},4754:function(e,b,a){"use strict";a.r(b);var f=a(1438),g=a(8668),c=a(5892),h=a(1224),i=a(5893),j=a(8582),k=a(957),d=function(){var g="\n  ",h='\n    const audioCtx = new AudioContext();\n\n    const oscillator1 = audioCtx.createOscillator();\n    oscillator1.type = "triangle";\n    oscillator1.detune.value = 10;\n    const stereoPanner1 = audioCtx.createStereoPanner();\n    stereoPanner1.pan.value = -0.2;\n    oscillator1.connect(stereoPanner1);\n    oscillator1.frequency.value = 110;\n    const envelopeGenerator1 = audioCtx.createGain();\n\n    const oscillator2 = audioCtx.createOscillator();\n    oscillator2.type = "sawtooth";\n    oscillator2.detune.value = -10;\n    const stereoPanner2 = audioCtx.createStereoPanner();\n    stereoPanner2.pan.value = 0.1;\n    oscillator2.connect(stereoPanner2);\n    oscillator2.frequency.value = 220;\n    const envelopeGenerator2 = audioCtx.createGain();\n\n    stereoPanner1.connect(envelopeGenerator1);\n    stereoPanner2.connect(envelopeGenerator2);\n\n    const filterNode = audioCtx.createBiquadFilter();\n    envelopeGenerator1.connect(filterNode);\n    envelopeGenerator2.connect(filterNode);\n\n    const gainNode = audioCtx.createGain();\n    gainNode.gain.value = 0.2;\n    filterNode.connect(gainNode);\n\n    const reverb = audioCtx.createConvolver();\n    reverb.buffer = window.reverbBuffer;\n    gainNode.connect(reverb);\n\n    const wetGain = audioCtx.createGain();\n    const dryGain = audioCtx.createGain();\n    reverb.connect(wetGain);\n    gainNode.connect(dryGain);\n\n    dryGain.connect(audioCtx.destination);\n    wetGain.connect(audioCtx.destination);\n\n    // Trigger one hit on the oscillator\n    document.getElementById(\'btn\').onclick = () => {\n      oscillator1.start();\n      oscillator2.start();\n    }\n\n    document.getElementById("shuffle-oscillators").onclick = () => {\n      oscillator1.type = ["sine", "triangle", "square", "sawtooth"][Math.floor(Math.random() * 4)]\n      oscillator2.type = ["sine", "triangle", "square", "sawtooth"][Math.floor(Math.random() * 4)]\n    }\n\n    document.getElementById("split-view-controllers").onkeydown = ev => {\n      ev.preventDefault()\n      \n      const freq = {\n        "Digit1": 27.50*16, "Digit2": 30.87*16, "Digit3": 32.70*16, "Digit4": 36.71*16, "Digit5": 41.20*16, "Digit6": 43.65*16, "Digit7": 49.00*16, "Digit8": 55.00*16, "Digit9": 30.87*32,\n        "KeyQ": 27.50*8, "KeyW": 30.87*8, "KeyE": 32.70*8, "KeyR": 36.71*8, "KeyT": 41.20*8, "KeyY": 43.65*8, "KeyU": 49.00*8, "KeyI": 55.00*8, "KeyO": 30.87*16,\n        "KeyA": 27.50*4, "KeyS": 30.87*4, "KeyD": 32.70*4, "KeyF": 36.71*4, "KeyG": 41.20*4, "KeyH": 43.65*4, "KeyJ": 49.00*4, "KeyK": 55.00*4,\n        "KeyZ": 27.50 * 2, "KeyX": 30.87 * 2, "KeyC": 32.70 * 2, "KeyV": 36.71 * 2, "KeyB": 41.20 * 2, "KeyN": 43.65 * 2, "KeyM": 49.00 * 2, "Comma": 55.00 * 2\n      }[ev.code];\n      \n      if (freq) {\n        oscillator1.frequency.value = oscillator2.frequency.value = freq;\n\n        // if ("123456789qwertyuiop".includes(ev.code[ev.code.length-1].toLowerCase())) {\n        //   oscillator1.frequency.value = freq;\n        //   if (!ev.shiftKey) {\n        //     triggerEnvelope(envelopeGenerator1.gain, 0.01, 0, 3);\n        //   } else {\n        //     envelopeGenerator1.gain.cancelScheduledValues(audioCtx.currentTime);\n        //     envelopeGenerator1.gain.value = 1;\n        //   }\n        // } else {\n        //   oscillator2.frequency.value = freq;\n        //   if (!ev.shiftKey) {\n        //     triggerEnvelope(envelopeGenerator2.gain, 0.1, 0, 4);\n        //   } else {\n        //     envelopeGenerator2.gain.cancelScheduledValues(audioCtx.currentTime);\n        //     envelopeGenerator2.gain.value = 1;\n        //   }\n        // }\n      }\n    }\n\n    // Start the oscillator in the background\n\n    window.addEventListener("update-cutoff", (e) => {\n      filterNode.frequency.value = e.detail;\n    });\n    window.addEventListener("update-q", (e) => {\n      filterNode.Q.value = e.detail;\n    });\n    window.addEventListener("update-gain", (e) => {\n      gainNode.gain.value = e.detail;\n    });\n    window.addEventListener("update-stereo-pan", (e) => {\n      stereoPanner1.pan.value = e.detail;\n      stereoPanner2.pan.value = -e.detail;\n    });\n    window.addEventListener("update-detune", (e) => {\n      oscillator1.detune.value = e.detail;\n      oscillator2.detune.value = -e.detail;\n    });\n    window.addEventListener("update-wetness", (e) => {\n      dryGain.gain.value = 1 - e.detail;\n      wetGain.gain.value = e.detail;\n    });\n\n    function triggerEnvelope(audioParam, attack, hold, release) {\n      const time = audioCtx.currentTime;\n      audioParam.cancelScheduledValues(time);\n      audioParam.setValueAtTime(0, time);\n      audioParam.linearRampToValueAtTime(1, time + attack);\n      audioParam.linearRampToValueAtTime(1, time + attack + hold);\n      audioParam.exponentialRampToValueAtTime(0.0001, time + attack + hold + release);\n    }\n\n    /* CLEANUP */\n    oscillator1.stop(audioCtx.currentTime);\n    oscillator2.stop(audioCtx.currentTime);\n    audioCtx.close();\n  ',a=(0,k.Z)(2e4,{valueToInput:function(a){return Math.log10(a/2)},inputToValue:function(a){return Math.floor(2*Math.pow(10,a))},onUpdate:m("update-cutoff")}),b=(0,k.Z)(1,{onUpdate:m("update-q")}),c=(0,k.Z)(.2,{onUpdate:m("update-gain")}),d=(0,k.Z)(-0.2,{onUpdate:m("update-stereo-pan")}),e=(0,k.Z)(10,{onUpdate:m("update-detune")}),f=(0,k.Z)(0,{onUpdate:m("update-wetness")});return(0,i.jsxs)(j.Z,{code:h,html:g,runCodeOnLoad:!0,children:[(0,i.jsx)("button",{id:"shuffle-oscillators",children:"Shuffle oscillators"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"pan-dial",type:"range",min:"-1",max:"1",step:"0.01",value:d.inputValue,onChange:d.update}),"Pan ",Math.floor(100*d.value),"%"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"detune-dial",type:"range",min:"-100",max:"100",step:"1",value:e.inputValue,onChange:e.update}),"Detune ",e.value," cents"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"cutoff-dial",type:"range",min:"0",max:"4",step:"0.001",value:a.inputValue,onChange:a.update}),"Cutoff Frequency: ",a.value," Hz"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"q-dial",type:"range",min:"0",max:"50",step:"0.01",value:b.inputValue,onChange:b.update}),"Q value: ",b.value]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"gain-dial",type:"range",min:"0",max:"3",step:"0.01",value:c.inputValue,onChange:c.update}),"Gain: ",Math.floor(100*c.value),"%"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{id:"reverb-dial",type:"range",min:"0",max:"1",step:"0.01",value:f.inputValue,onChange:f.update}),"Reverb: ",Math.floor(100*f.value),"% wet"]}),(0,i.jsx)("button",{id:"btn",children:"Beep!"})]})},l=function(a){(0,g.Z)(b,a);var c=(0,h.Z)(b);function b(e,d){var a;return(0,f.Z)(this,b),(a=c.call(this,e)).value=d,a.detail=d,a}return b}((0,c.Z)(Event));function m(a){return function(b){var c=new l(a,b);window.dispatchEvent(c)}}b.default=d},957:function(c,b,a){"use strict";a.d(b,{Z:function(){return e}});var d=a(7294);function e(f){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=(0,d.useState)(f),b=c[0],g=c[1],h=a.inputToValue,e=a.valueToInput,i=a.onUpdate;return(0,d.useEffect)(function(){i&&i(b)}),{value:b,get inputValue(){if(e)return e(b);return b},update:function(c){var a=c.target.value;if("number"==typeof f){var b=h?h(Number(a)):Number(a);i&&i(b),g(b)}else{var d=h?h(a):a;i&&i(d),g(function(){return a})}}}}},947:function(a){a.exports={splitView:"ModulePages_splitView__2k9eX",splitViewLeft:"ModulePages_splitViewLeft__KnnTd",splitViewRight:"ModulePages_splitViewRight__UKfJG",splitViewVertical:"ModulePages_splitViewVertical__uHpn6",splitViewBaseContent:"ModulePages_splitViewBaseContent__yEx7x",fullSizeButton:"ModulePages_fullSizeButton__HPwUm"}},1438:function(c,a,b){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}b.d(a,{Z:function(){return d}})},1224:function(c,b,a){"use strict";function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}a.d(b,{Z:function(){return i}});var e=a(2662);function f(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function g(a){return a&&a.constructor===Symbol?"symbol":typeof a}function h(b,a){return a&&("object"===g(a)||"function"==typeof a)?a:f(b)}function i(a){var b=d();return function(){var c,d=(0,e.Z)(a);if(b){var f=(0,e.Z)(this).constructor;c=Reflect.construct(d,arguments,f)}else c=d.apply(this,arguments);return h(this,c)}}},2662:function(c,a,b){"use strict";function d(a){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function e(a){return d(a)}b.d(a,{Z:function(){return e}})},8668:function(c,b,a){"use strict";a.d(b,{Z:function(){return e}});var d=a(4998);function e(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&(0,d.Z)(b,a)}},4998:function(c,a,b){"use strict";function d(a,b){return(d=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function e(a,b){return d(a,b)}b.d(a,{Z:function(){return e}})},5892:function(c,b,a){"use strict";a.d(b,{Z:function(){return k}});var d=a(4998);function e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function f(a,b,c){return(f=e()?Reflect.construct:function(e,f,b){var a=[null];a.push.apply(a,f);var c=new(Function.bind.apply(e,a));return b&&(0,d.Z)(c,b.prototype),c}).apply(null,arguments)}function g(a,b,c){return f.apply(null,arguments)}function h(a){return -1!==Function.toString.call(a).indexOf("[native code]")}var i=a(2662);function j(a){var b="function"==typeof Map?new Map:void 0;return(j=function(a){if(null===a||!h(a))return a;if("function"!=typeof a)throw TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return g(a,arguments,(0,i.Z)(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),(0,d.Z)(c,a)})(a)}function k(a){return j(a)}}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[551,774,888,179],function(){return b(9957)}),_N_E=a.O()}])